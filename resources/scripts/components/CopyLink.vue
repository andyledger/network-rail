<template>
  <button type="button" class="copy-link h-32px w-32px" aria-label="Copy to clipboard" @click="copy">
    <span class="copy-link-text">
      {{ value }}
    </span>
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M16 32C24.8366 32 32 24.8366 32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32ZM14.8327 19.0727C15.2427 18.6827 15.2427 18.0427 14.8327 17.6527C14.5524 17.3754 14.3298 17.0452 14.1779 16.6813C14.026 16.3174 13.9478 15.927 13.9478 15.5327C13.9478 15.1384 14.026 14.748 14.1779 14.3841C14.3298 14.0202 14.5524 13.69 14.8327 13.4127L18.3627 9.88269C18.64 9.60235 18.9702 9.3798 19.3341 9.22791C19.698 9.07602 20.0884 8.99781 20.4827 8.99781C20.877 8.99781 21.2674 9.07602 21.6313 9.22791C21.9952 9.3798 22.3254 9.60235 22.6027 9.88269C22.883 10.16 23.1056 10.4902 23.2575 10.8541C23.4094 11.218 23.4876 11.6084 23.4876 12.0027C23.4876 12.397 23.4094 12.7874 23.2575 13.1513C23.1056 13.5152 22.883 13.8454 22.6027 14.1227L22.1327 14.6027C22.4127 15.3827 22.5427 16.2027 22.5327 17.0227L24.0227 15.5327C24.9593 14.5947 25.4854 13.3233 25.4854 11.9977C25.4854 10.6721 24.9593 9.40072 24.0227 8.46269C23.0847 7.52607 21.8133 7 20.4877 7C19.1621 7 17.8907 7.52607 16.9527 8.46269L13.4127 12.0027C12.4761 12.9407 11.95 14.2121 11.95 15.5377C11.95 16.8633 12.4761 18.1347 13.4127 19.0727C13.8027 19.4627 14.4427 19.4627 14.8327 19.0727ZM19.0727 13.4127C18.6827 13.0227 18.0427 13.0227 17.6527 13.4127C17.5556 13.5037 17.4782 13.6137 17.4252 13.7358C17.3723 13.8579 17.345 13.9896 17.345 14.1227C17.345 14.2558 17.3723 14.3875 17.4252 14.5096C17.4782 14.6317 17.5556 14.7417 17.6527 14.8327C17.933 15.11 18.1556 15.4402 18.3075 15.8041C18.4594 16.168 18.5376 16.5584 18.5376 16.9527C18.5376 17.347 18.4594 17.7374 18.3075 18.1013C18.1556 18.4652 17.933 18.7954 17.6527 19.0727L14.1227 22.6027C13.8454 22.883 13.5152 23.1056 13.1513 23.2575C12.7874 23.4094 12.397 23.4876 12.0027 23.4876C11.6084 23.4876 11.218 23.4094 10.8541 23.2575C10.4902 23.1056 10.16 22.883 9.88269 22.6027C9.60235 22.3254 9.3798 21.9952 9.22791 21.6313C9.07602 21.2674 8.99781 20.877 8.99781 20.4827C8.99781 20.0884 9.07602 19.698 9.22791 19.3341C9.3798 18.9702 9.60235 18.64 9.88269 18.3627L10.3527 17.8927C10.0727 17.1027 9.94269 16.2827 9.95269 15.4627L8.46269 16.9527C7.52607 17.8907 7 19.1621 7 20.4877C7 21.8133 7.52607 23.0847 8.46269 24.0227C9.40072 24.9593 10.6721 25.4854 11.9977 25.4854C13.3233 25.4854 14.5947 24.9593 15.5327 24.0227L19.0727 20.4827C20.0093 19.5447 20.5354 18.2733 20.5354 16.9477C20.5354 15.6221 20.0093 14.3507 19.0727 13.4127Z" :fill="colour"/>
    </svg>
  </button>
</template>
<script>
export default  {
  props: {
    url: {
      type: String
    },
    colour: {
      type: String,
    }
  },

  data() {
    return {
      value: 'Copy to clipboard'
    }
  },

  methods: {
    copy() {
      navigator.clipboard.writeText(this.url)
      this.value = 'Copied!'

      setTimeout(() => {
        this.value = 'Copy to clipboard'
      }, 3000)
    }
  }
}
</script>
